
.letter {
	position: relative;
	
	min-width: 500px;
	height: 540px;
	margin-right: 50px;

	font-family: 'Zhizn';
	text-align: center;
	color: #ffffff;
}

.letter__tip {
	display: block;
	height: 25px;
	padding: 15px 0;
	padding-bottom: 500px;
	
	font-size: 0.8rem;

  transition: opacity 0.33s;
}

.letter__container {
	position: absolute;
	top: 50px;
  left: 0;
	right: 0;
  margin: 1rem auto;
}

.letter__form  {
	position: absolute;
	top: 0;
  left: 0;
	right: 0;
	
  width: 30rem;
	margin: auto;
		
	border-radius: 15px;
	box-shadow: 10px 10px 50px #050505;
	perspective: 60rem;
}

.letter__side {
	height: 12rem;
	
	background-color: #737373;
	background-image: url(../../../../../img/letter-background.jpg);
}

.letter__side:nth-of-type(1) {
	padding: 2rem 2rem 0;

	border-radius: 15px 15px 0 0;
	box-shadow: inset 0 0.75rem 2rem rgba(50, 50, 50, 0.9);
}
	
.letter__side:nth-of-type(2) {
	box-sizing: border-box;
	padding: 2rem;

	text-align: right;

	border-radius: 0 0 15px 15px;
	box-shadow: inset 0 -0.75rem 2rem rgba(50, 50, 50, 0.9);
}

.letter__title {
	margin: 0;

	font-family: 'Tkachenko Sketch 4F';
	font-size: 2rem;
	line-height: 1.4;
	text-align: center;
	color: #222222;
}

.letter__area {
	margin: 0;
}

.letter__textarea, 
.letter__input,
.letter__button {
	font-family: inherit;
	font-size: 0.9rem;
	line-height: 1.5rem;
	
  border: 0;
	outline: none;
}

.letter__textarea, 
.letter__input {
color: #2f2f2f;
font-weight: bold;

background-color: transparent;
background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='24'><rect fill='rgba(25, 25, 25, 0.5)' x='0' y='23' width='10' height='1'/></svg>");
}

.letter__textarea {
	width: 100%;
	height: 8rem;

	resize: none;
}

.letter__input {
	width: 50%;
	margin-bottom: 1rem;
}

.letter__textarea::placeholder, 
.letter__input::placeholder {
	color: #3f3f3f;
}
	
.letter__textarea:focus,
.letter__input:focus {
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='24'><rect fill='rgba(0, 0, 0, 0.3)' x='0' y='23' width='10' height='1'/></svg>");
  outline: none;
}

.letter__input--name-required,
.letter__input--email-required {
	box-shadow: none;
	background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='24'><rect fill='rgba(70, 10, 10, 0.4)' x='0' y='23' width='10' height='1'/></svg>");
}
	
.letter__button {
	padding: 0.5rem 1rem;

	font-size: 1rem;
	color: #222222;
	font-weight: bold;

	background-color: rgba(75, 75, 75, 0.85);
	border-radius: 0.25rem;

	transition: background-color 0.2s;
}

.letter__button:hover,
.letter__button:focus {
	background-color: rgba(75, 75, 75, 1);
	outline: none;
}

.letter__envelope {
  position: absolute;
	top: 0;
  left: 0;
  right: 0;
	
  margin: auto;
}

.letter__envelope--front {
	z-index: 10;
	
  width: 10rem;
	height: 6rem;
	
  overflow: hidden;
  border-radius: 0 0 1rem 1rem;
  opacity: 0;
}

.letter__envelope--front::before, 
.letter__envelope--front::after {
	content: '';

	position: absolute;
	
  display: block;
  width: 12rem;
	height: 6rem;
	
	background-color: #c5c5c5;
	background-image: url(../../../../../img/envelope-background.jpg);
	box-shadow: 0 0 1rem rgba(0, 0, 0, 0.3);
	
  transform: rotate(30deg);
  transform-origin: 0 0;
}

.letter__envelope--front::after{
	right: 0;
	
  transform: rotate(-30deg);
	transform-origin: 100% 0;
}

.letter__envelope--back {
	top: -4rem;
  z-index: -10;
	
  width: 10rem;
	height: 10rem;
	
	overflow: hidden;
	opacity: 0;
	
	transform: translateY(-6rem);
}

.letter__envelope--back::before {
	content: '';

	display: block;
	width: 10rem;
	height: 10rem;

	background-color: #bbbbbb;
	background-image: url(../../../../../img/envelope-background.jpg);
	box-shadow: inset 0 0 6rem rgba(0, 0, 0, 0.5);
	border-radius: 1rem;
	transform: scaleY(0.6) rotate(45deg)
}
	
.letter__thanks {
	position: absolute;
	top: 75px;
	left: 0;
	right: 0;
	z-index: -10;
	
  font-size: 0.8rem;
  text-align: center;

	opacity: 0;
	
  transition: all 1.9s 2s;
  transform: translateY(9rem);
}
		
.letter__form--sent-error {	
	animation: return 0.7s forwards ease-out;
}

.letter--sent .letter__tip {
	opacity: 0;
}

.letter--sent .letter__form {
	animation: scaleLetter 1s forwards ease-in;
}

.letter--sent .letter__title {
opacity: 0;
}

.letter--sent .letter__side:nth-of-type(1) {
	transform-origin: 0 100%;
	animation: closeLetter 0.66s forwards ease-in;
}
	
.letter--sent .letter__title, 
.letter--sent .letter__textarea {
	animation: fadeOutText 0.66s forwards linear;
}
	
.letter--sent .letter__button {
	background-color: rgba(75, 75, 75, 0.5);
}

.letter--sent .letter__envelope {
	animation: fadeInEnvelope 1.2s 1.33s forwards ease-out;
}
	
.letter--sent .letter__thanks {
	opacity: 1;

	transform: translateY(12rem);
}

@keyframes return {
	40%  {transform: scale(0.85, 0.85);}
	100% {transform: translateX(0);}
}

@keyframes closeLetter {
	50%  {transform: rotateX(-90deg);}
	100% {transform: rotateX(-180deg);}
}

@keyframes fadeOutText {
	49%  {opacity: 1;}
	50%  {opacity: 0;}
	100% {opacity: 0;}
}

@keyframes fadeInEnvelope {
  0%   {opacity: 0.9; transform: translateY(10rem);}
  100% {opacity: 1; transform: translateY(6.0rem);}
}

@keyframes scaleLetter {
  5%   {transform: translateY(0rem) scale(1.0, 1.0); box-shadow: none;}
  66%  {transform: translateY(-8rem) scale(0.5, 0.5); box-shadow: none;}
  75%  {transform: translateY(-8rem) scale(0.5, 0.5); box-shadow: none;}
  90%  {transform: translateY(-8rem) scale(0.3, 0.4); box-shadow: none;}
  97%  {transform: translateY(-8rem) scale(0.33, 0.43); box-shadow: none;}
  100% {transform: translateY(-8rem) scale(0.3, 0.4); box-shadow: none;}
}
